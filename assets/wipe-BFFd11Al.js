import{w as x,x as f,a as i,p as e}from"./chunk-WWGJGFF6-BJCbEqrC.js";import{u as h}from"./puter-4PPKq68G.js";const m=()=>{const{auth:a,isLoading:t,error:r,fs:n,kv:d}=h(),l=f(),[c,p]=i.useState([]),o=async()=>{const s=await n.readDir("./");p(s)};i.useEffect(()=>{o()},[]),i.useEffect(()=>{!t&&!a.isAuthenticated&&l("/auth?next=/wipe")},[t]);const u=async()=>{c.forEach(async s=>{await n.delete(s.path)}),await d.flush(),o()};return t?e.jsx("div",{children:"Loading..."}):r?e.jsxs("div",{children:["Error ",r]}):e.jsxs("div",{children:["Authenticated as: ",a.user?.username,e.jsx("div",{children:"Existing files:"}),e.jsx("div",{className:"flex flex-col gap-4",children:c.map(s=>e.jsx("div",{className:"flex flex-row gap-4",children:e.jsx("p",{children:s.name})},s.id))}),e.jsx("div",{children:e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md cursor-pointer",onClick:()=>u(),children:"Wipe App Data"})})]})},w=x(m);export{w as default};
